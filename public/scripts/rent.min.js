document.addEventListener("DOMContentLoaded",()=>{let e=1200;document.getElementById("rent-balance").textContent=`$${e.toFixed(2)}`,document.getElementById("payment-form").addEventListener("submit",function(t){t.preventDefault();const n=parseFloat(document.getElementById("amount").value);isNaN(n)||n<=0||(e-=n,document.getElementById("rent-balance").textContent=`$${Math.max(e,0).toFixed(2)}`,document.getElementById("receipt").textContent=`‚úÖ Payment of $${n.toFixed(2)} received.`,document.getElementById("amount").value="")}),document.getElementById("request-form").addEventListener("submit",function(e){e.preventDefault();const t=document.getElementById("request").value.trim();if(!t)return;const n=document.getElementById("requests-list"),o=document.createElement("p");o.textContent=`üõ†Ô∏è ${t} ‚Äì Status: Pending`,n.appendChild(o),document.getElementById("request").value=""}),document.getElementById("payment-form").addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("amount").value,n=await fetch("/api/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t})}),o=await n.json();showToast(o.success?"‚úÖ Payment received!":"‚ùå Payment failed")}),document.getElementById("request-form").addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("request").value,n=await fetch("/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request:t})}),o=await n.json();showToast(o.success?"‚úÖ Request submitted!":"‚ùå Request failed")});const t=document.getElementById("logout-link");t&&t.addEventListener("click",function(e){e.preventDefault(),confirm("Are you sure you want to log out?")&&(window.location.href="/logout")})});